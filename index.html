<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Меню</title>
    <!-- Подключение Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            background-color: #000000;
            color: #ffffff;
            font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            /* Фиксация экрана от случайных свайпов */
            overflow: hidden;
            position: fixed;
            touch-action: none;
        }

        .scroll-container {
            height: 100%;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-link {
            border: 1px solid #333;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .nav-link:active {
            background-color: #ffffff;
            color: #000000;
            transform: scale(0.98);
        }

        @media (hover: hover) {
            .nav-link:hover {
                background-color: #ffffff;
                color: #000000;
            }
        }
    </style>
</head>
<body class="flex flex-col">

    <div class="scroll-container w-full">
        <div class="w-full max-w-md space-y-4 py-8">
            
            <a href="navigator3.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                НАВИГАТОР
            </a>

            <a href="navigator4.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                НАВИГАТОР 4
            </a>

            <a href="view.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                ПРОСМОТР МАРШРУТОВ
            </a>

            <a href="create_route.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                СОЗДАНИЕ МАРШРУТА
            </a>

            <a href="fullbase.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                РЕДАКТОР ОБЩЕЙ БАЗЫ ДАННЫХ
            </a>

            <a href="редактор_новый2.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                СОЗДАНИЕ МАРШРУТА НОВЫЙ
            </a>

        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        let wakeLock = null;

        // Функция для предотвращения спящего режима
        async function requestWakeLock() {
            try {
                if ('wakeLock' in navigator) {
                    wakeLock = await navigator.wakeLock.request('screen');
                    console.log('Wake Lock активирован: экран не погаснет');
                }
            } catch (err) {
                console.error(`Ошибка Wake Lock: ${err.name}, ${err.message}`);
            }
        }

        function initApp() {
            tg.ready();
            tg.expand();

            // Запрашиваем анти-сон
            requestWakeLock();

            // Перезапрашиваем анти-сон, если приложение было свернуто и развернуто
            document.addEventListener('visibilitychange', async () => {
                if (wakeLock !== null && document.visibilityState === 'visible') {
                    await requestWakeLock();
                }
            });

            if (tg.isVersionAtLeast('7.0')) {
                try {
                    tg.requestFullscreen();
                } catch (e) {
                    console.error("Fullscreen error:", e);
                }
            }

            if (tg.isVersionAtLeast('6.1')) {
                tg.setHeaderColor('#000000');
                tg.setBackgroundColor('#000000');
            }

            // Отключаем вертикальные свайпы для стабильности полноэкранного режима
            if (tg.isVersionAtLeast('7.7')) {
                tg.disableVerticalSwipes();
            }
        }

        initApp();
    </script>
</body>
</html>