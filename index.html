<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Меню</title>
    <!-- Подключение Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            background-color: #000000;
            color: #ffffff;
            font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            position: fixed;
            touch-action: none;
        }

        .scroll-container {
            height: 100%;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-link {
            border: 1px solid #333;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .nav-link:active {
            background-color: #ffffff;
            color: #000000;
            transform: scale(0.98);
        }

        @media (hover: hover) {
            .nav-link:hover {
                background-color: #ffffff;
                color: #000000;
            }
        }

        /* Скрытое видео для предотвращения сна */
        #wake-lock-video {
            position: absolute;
            width: 1px;
            height: 1px;
            opacity: 0.01;
            pointer-events: none;
        }
    </style>
</head>
<body class="flex flex-col">

    <!-- Невидимый видео-элемент -->
    <video id="wake-lock-video" playsinline muted loop>
        <source src="https://raw.githubusercontent.com/anars/blank-video/master/200ms-black.mp4" type="video/mp4">
    </video>

    <div class="scroll-container w-full">
        <div class="w-full max-w-md space-y-4 py-8">
            <a href="navigator3.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                НАВИГАТОР
            </a>
            <a href="navigator4.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                НАВИГАТОР 4
            </a>
            <a href="view.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                ПРОСМОТР МАРШРУТОВ
            </a>
            <a href="create_route.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                СОЗДАНИЕ МАРШРУТА
            </a>
            <a href="fullbase.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                РЕДАКТОР ОБЩЕЙ БАЗЫ ДАННЫХ
            </a>
            <a href="редактор_новый2.html" class="nav-link block w-full py-5 px-6 rounded-lg text-center text-lg font-medium tracking-wide uppercase">
                СОЗДАНИЕ МАРШРУТА НОВЫЙ
            </a>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        const video = document.getElementById('wake-lock-video');

        // Метод предотвращения сна через видео
        function keepScreenAlive() {
            video.play().catch(err => {
                console.log("Автозапуск видео заблокирован, ожидание взаимодействия");
            });
        }

        function initApp() {
            tg.ready();
            tg.expand();

            // Запускаем видео при инициализации
            keepScreenAlive();

            // Если браузер требует клика для запуска видео, активируем при первом касании
            document.body.addEventListener('touchstart', () => {
                video.play();
            }, { once: true });

            // Возобновляем при возврате в приложение
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'visible') {
                    video.play();
                }
            });

            if (tg.isVersionAtLeast('7.0')) {
                try {
                    tg.requestFullscreen();
                } catch (e) {
                    console.error("Fullscreen error:", e);
                }
            }

            if (tg.isVersionAtLeast('6.1')) {
                tg.setHeaderColor('#000000');
                tg.setBackgroundColor('#000000');
            }

            if (tg.isVersionAtLeast('7.7')) {
                tg.disableVerticalSwipes();
            }
        }

        initApp();
    </script>
</body>
</html>